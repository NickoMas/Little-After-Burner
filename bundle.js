!function(e){function t(o){if(n[o])return n[o].exports;var i=n[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.canvas=t.ctx=void 0;var o=n(5),i=n(4),s=n(2),r=n(1),a=n(3),u=document.querySelector("#action"),c=document.querySelector("#field"),p=u.getContext("2d"),l=c.getContext("2d");t.ctx=p,t.canvas=u;var y=document.getElementById("start"),d=document.getElementById("layer"),f=void 0,h=0,k=void 0,m=0,v=0,g=void 0,w=void 0,E=void 0,x={cooldown:!1},b=void 0,S=new o.Sound("sounds/boom.mp3"),C=new o.Sound("sounds/launch.mp3"),T=function(e,t){var n=void 0;switch(e.keyCode){case i.keys.key1.keyCode:n=i.keys.key1.keyName;break;case i.keys.key2.keyCode:n=i.keys.key2.keyName;break;case i.keys.key3.keyCode:n=i.keys.key3.keyName;break;case i.keys.key4.keyCode:n=i.keys.key4.keyName;break;case i.keys.key5.keyCode:n=i.keys.key5.keyName;break;default:n=String.fromCharCode(e.keyCode)}x[n]=t};document.addEventListener(i.keyEvents.key1,function(e){T(e,!0)}),document.addEventListener(i.keyEvents.key2,function(e){T(e,!1),e.keyCode===i.keys.key1.keyCode&&(x.cooldown=!1)}),y.addEventListener(i.keyEvents.key3,function(e){d.style.display="none",V()});var z=function(e){var t=Date.now()-h;if(!w&&(x[i.keys.key2.keyName]&&(k.position[0]-=k.sprite.speed*e),x[i.keys.key4.keyName]&&(k.position[0]+=k.sprite.speed*e),x[i.keys.key3.keyName]&&(k.position[1]-=k.sprite.speed*e),x[i.keys.key5.keyName]&&(k.position[1]+=k.sprite.speed*e),x[i.keys.key1.keyName]&&t>a.playerFireThreshold&&!x.cooldown)){C.play(),b.rocket.push({position:[k.position[0],k.position[1]-a.rocketInFront],sprite:new s.Entity("images/player.png",[0,0],[50,60],!1,100,160)});var n=document.createEvent("HTMLEvents");n.initEvent(i.keyEvents.key2,!0,!1),document.dispatchEvent(n),x.cooldown=!0,h=Date.now()}},N=function(e){p.save(),p.translate(e.position[0],e.position[1]),e.sprite.renderSelf(p),p.restore()},P=new s.Entity("images/terrain.png",[0,0]),_=function(){var e=a.fieldVelocity*((Date.now()-f)/1e3),t=p.createPattern(P.sprite,"repeat");l.fillStyle=t,l.rect(e,0,780,720),l.fill(),l.translate(0,e)},M=function(){_(),!w&&k&&N(k),b.rocket.forEach(function(e){e.position[1]+=a.rocketVelocity,N(e)}),b.bullets.forEach(function(e){e.position[1]+=a.bulletsVelocity,N(e)}),b.enemy.forEach(function(e){e.position[1]+=a.enemyVelocity,N(e)}),b.explosion.forEach(function(e){N(e),e.sprite.done&&(e.toErase=!0)})},O=function(e,t,n,o){var i=e[0]+t[0],s=n[0]+o[0],r=e[1]+t[1],a=n[1]+o[1];return!(i<=n[0]||e[0]>s||r<=n[1]||e[1]>a)},j=function(e){var t=Date.now()-m,n=Date.now()-v;b.player&&b.player.forEach(function(t){t.sprite.updateSelf(e)}),b.explosion&&b.explosion.forEach(function(t){t.sprite.updateSelf(e)}),g>a.gameTimeInt&&t>a.enemySpawnThreshold&&(m=Date.now(),b.enemy.push({position:[Math.random()*(u.width-a.enemyWidth),0],sprite:new s.Entity("images/foe.png",[0,0],[80,80],!1,0,180)})),b.enemy.forEach(function(e){var t=e.position[0]-e.sprite.size[0];n>a.enemyFireThreshold&&(v=Date.now(),b.bullets.push({position:[e.position[0],e.position[1]-a.bulletsSpawn],sprite:new s.Entity("images/foe.png",[0,0],[80,50],!1,0,260)})),(e.position[1]>u.height||t>u.width)&&(e.toErase=!0),b.rocket.forEach(function(t){t.position[1]+t.sprite.size[1]<0&&(t.toErase=!0),O(e.position,e.sprite.size,t.position,t.sprite.size)&&(t.toErase=!0,e.toErase=!0,S.play(),b.explosion.push({position:[e.position[0]+a.explosionSpawn,e.position[1]],sprite:new s.Entity("images/player.png",[0,0],[51,60],!0,0,240,10,[0,1,2,3,4,5,6,7,8,9,10])}))}),O(e.position,e.sprite.size,k.position,k.handicap.size)&&(k.wounded?(k.toErase=!0,D(),S.play(),b.explosion.push({position:[k.position[0]+a.explosionSpawn,k.position[1]],sprite:new s.Entity("images/player.png",[0,0],[51,60],!0,0,240,10,[0,1,2,3,4,5,6,7,8,9,10])})):(k.handicap={size:[80,80]},k.wounded=!0,k.sprite=new s.Entity("images/foe.png",[0,0],[110,165],!1,250,0,10,[0,1,2,3,4,5])))}),b.bullets.forEach(function(e){e.position[1]>u.height&&(e.toErase=!0),O(e.position,e.sprite.size,k.position,k.handicap.size)&&(k.wounded?(k.toErase=!0,D(),b.explosion.push({position:[k.position[0]+a.explosionSpawn,k.position[1]],sprite:new s.Entity("images/player.png",[0,0],[51,60],!0,0,240,10,[0,1,2,3,4,5,6,7,8,9,10])})):(k.handicap={size:[80,80]},k.wounded=!0,k.sprite=new s.Entity("images/foe.png",[0,0],[110,165],!1,250,0,10,[0,1,2,3,4,5])))});for(var o in b)b[o]=b[o].reduce(function(e,t){return t.sprite.done||t.toErase||e.push(t),e},[])},D=function(){p.font=r.ctxText.font,p.textAlign=r.ctxText.textAlign,p.fillStyle=r.ctxText.fillStyle,p.fillText(r.ctxText.fillText,u.width/2,u.height/2),setTimeout(function(){d.style.display="block"},1e3),w=!0},I=function(e){g+=e,z(e),j(e)},V=function(){g=0,w=!1,b={player:[],rocket:[],enemy:[],bullets:[],explosion:[]},b.player[0]={handicap:{size:[50,50]},wounded:!1,position:[u.width/2,u.height-a.playerSpawn],sprite:new s.Entity("images/player.png",[0,0],[110,165],!1,350,0,10,[0,1,2,3,4,5])},k=b.player[0]},A=function e(){var t=Date.now();I((t-f)/1e3),M(),f=t,requestAnimationFrame(e)},F=[s.resources.load("images/player.png"),s.resources.load("images/terrain.png"),s.resources.load("images/foe.png"),s.resources.load("images/Lizard.jpg"),s.resources.load("images/logo.png")],L=function(){V(),f=Date.now(),A(),E=new o.Sound("sounds/Main.mp3"),E.sound.loop=!0,E.play()};new Promise(function(e,t){F.forEach(function(t){t.onload=function(){return e("ok")}})}).then(function(e){return L()}).catch(function(e){return console.log(e)})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o={font:"30px Comic Sans MS",textAlign:"center",fillStyle:"red",fillText:"GAME OVER"};t.ctxText=o},function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.Entity=t.resources=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=n(0),r=function(){var e={};return{load:function(t){if(e[t])return e[t];var n=new Image;return n.src=t,e[t]=n,n}}}(),a=function(){function e(t,n,i,s){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,p=arguments.length>7&&void 0!==arguments[7]?arguments[7]:[0];o(this,e),this.sprite=r.load(t),this.position=n,this.size=i,this.once=s,this.speed=a,this.frames=p,this.axisShift=u,this.animSpeed=c,this.index=0}return i(e,[{key:"updateSelf",value:function(e){s.ctx.clearRect(0,0,s.canvas.width,s.canvas.height),this.index+=this.animSpeed*e}},{key:"renderSelf",value:function(e){var t=(Date.now(),void 0),n=Math.floor(this.index),o=this.frames.length;if(t=this.frames[n%o],this.once&&n>=o)return void(this.done=!0);var i=this.position[0];this.position[1];i=t*this.size[0],e.drawImage(this.sprite,i,this.axisShift,this.size[0],this.size[1],this.position[0],this.position[1],this.size[0],this.size[1])}}]),e}();t.resources=r,t.Entity=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.playerFireThreshold=600,t.rocketInFront=5,t.fieldVelocity=350,t.rocketVelocity=-10,t.bulletsVelocity=7,t.enemyVelocity=3,t.gameTimeInt=3,t.enemySpawnThreshold=1500,t.enemyWidth=80,t.enemyFireThreshold=1400,t.bulletsSpawn=5,t.explosionSpawn=20,t.playerSpawn=150},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o={key1:{keyCode:32,keyName:"SPACE"},key2:{keyCode:37,keyName:"LEFT"},key3:{keyCode:38,keyName:"UP"},key4:{keyCode:39,keyName:"RIGHT"},key5:{keyCode:40,keyName:"DOWN"}},i={key1:"keydown",key2:"keyup",key3:"click"};t.keys=o,t.keyEvents=i},function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=function(){function e(t){o(this,e),this.sound=document.createElement("audio"),this.sound.src=t,this.sound.setAttribute("preload","auto"),this.sound.setAttribute("controls","none"),this.sound.style.display="none",document.body.appendChild(this.sound)}return i(e,[{key:"play",value:function(){this.sound.play()}},{key:"stop",value:function(){this.sound.pause()}}]),e}();t.Sound=s}]);